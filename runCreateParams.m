clc
clear

addpath(genpath('./utils/'));

% 核函数参数
P1 = 2.^(-3:8)';

% 分类器网格搜索参数
C = 2.^(-3:1:8)';
C3 = 1e-7;% cond 矫正
EPS = [0.01;0.02;0.05;0.1];
RHO = 2.^(-3:1:8)';
MU = (0.1:0.1:1)';
ETA =(0:0.1:1)';
% MTL-aLS-SVM
RATE = [0.83,0.90,0.97]';
% MTCTSVM
P = (0.5:0.5:2.0)';
% VSTG-MTL
K = (3:2:13)';
k = (1:2:7)';

% 核函数
kernel = struct('kernel', 'rbf', 'p1', P1);
% kernel = struct('kernel', 'poly');

%% 回归任务参数
RParams = {
    struct('Name', 'SVR', 'C', C, 'eps', EPS, 'kernel', kernel);...
    struct('Name', 'PSVR', 'nu', RHO, 'kernel', kernel);...
    struct('Name', 'LS_SVR', 'gamma', RHO, 'kernel', kernel);...
    struct('Name', 'TWSVR', 'C1', C, 'C3', C3, 'eps1', EPS, 'kernel', kernel);... 
    struct('Name', 'TWSVR_Xu', 'C1', C, 'eps1', EPS, 'kernel', kernel);...
    struct('Name', 'LSTWSVR_Mei', 'C1', C, 'eps1', EPS, 'kernel', kernel);...
    struct('Name', 'LSTWSVR_Huang', 'eps1', EPS, 'kernel', kernel);...
    struct('Name', 'MTLS_SVR', 'lambda', RHO, 'gamma', RHO, 'kernel', kernel);...
    struct('Name', 'MTPSVR', 'lambda', RHO, 'nu', RHO, 'kernel', kernel);...
    struct('Name', 'MTL_TWSVR', 'C1', C, 'eps1', EPS, 'rho', RHO, 'kernel', kernel);...
    struct('Name', 'MTL_TWSVR_Xu', 'C1', C, 'eps1', EPS, 'rho', RHO, 'kernel', kernel);...
    struct('Name', 'MTLS_TWSVR', 'C1', C, 'eps1', EPS, 'rho', RHO, 'kernel', kernel);...
    struct('Name', 'LSTWSVR_Xu', 'C1', C, 'eps1', EPS, 'kernel', kernel);...
    struct('Name', 'MTLS_TWSVR_Xu', 'C1', C, 'eps1', EPS, 'rho', RHO, 'kernel', kernel)...
};

[ RParams ] = PrintParams('./params/LabRParams-Linear.txt', RParams);
save('./params/LabRParams-Linear.mat', 'RParams');
%% 分类任务参数
% ID: 实验名称
% Name: 算法名称
CParams = {
    struct('ID', 'SVM', 'Name', 'SVM', 'C', C, 'kernel', kernel);...
    struct('ID', 'PSVM', 'Name', 'PSVM', 'nu', RHO, 'kernel', kernel);...
    struct('ID', 'LS_SVM', 'Name', 'LS_SVM', 'gamma', RHO, 'kernel', kernel);...
    struct('ID', 'TWSVM', 'Name', 'TWSVM', 'C1', C, 'kernel', kernel);...
    struct('ID', 'LSTWSVM', 'Name', 'LSTWSVM', 'C1', C, 'kernel', kernel);...
    struct('ID', 'vTWSVM', 'Name', 'vTWSVM', 'v1', MU, 'kernel', kernel);...
    struct('ID', 'ITWSVM', 'Name', 'ITWSVM', 'C1', C, 'C3', C, 'kernel', kernel);...
    struct('ID', 'MTPSVM', 'Name', 'MTPSVM', 'lambda', RHO, 'nu', RHO, 'kernel', kernel);...
    struct('ID', 'MTLS_SVM', 'Name', 'MTLS_SVM', 'lambda', RHO, 'gamma', RHO, 'kernel', kernel);...
    struct('ID', 'MTL_aLS_SVM', 'Name', 'MTL_aLS_SVM', 'C1', C, 'C2', C, 'rho', RATE, 'kernel', kernel);...
    struct('ID', 'DMTSVM', 'Name', 'DMTSVM', 'C1', C, 'rho', RHO, 'kernel', kernel);...
    struct('ID', 'MCTSVM', 'Name', 'MCTSVM', 'C1', C, 'rho', RHO, 'p', P, 'kernel', kernel);...
    struct('ID', 'MTLS_TWSVM', 'Name', 'MTLS_TWSVM', 'C1', C, 'rho', RHO, 'kernel', kernel);...
    struct('ID', 'MTvTWSVM', 'Name', 'MTvTWSVM', 'v1', MU, 'rho', RHO, 'kernel', kernel);...
    struct('ID', 'MTvTWSVM2', 'Name', 'MTvTWSVM2', 'v1', MU, 'rho', ETA, 'kernel', kernel);...
    struct('ID', 'MTBSVM', 'Name', 'MTBSVM', 'C1', C, 'C3', C, 'rho', RHO, 'kernel', kernel);...
    struct('ID', 'MTLS_TBSVM', 'Name', 'MTLS_TBSVM', 'C1', C, 'C3', C, 'rho', RHO, 'kernel', kernel);...
%     struct('ID', 'VSTG_MTL', 'Name', 'VSTG_MTL', 'func', 'logistic', 'gamma1', GAMMA, 'gamma2', GAMMA, 'K', K, 'k', k);...
};

% 保存参数表
[ CParams ] = PrintParams('./params/LabCParams.txt', CParams);
save('./params/LabCParams.mat', 'CParams');

%%
clear
clc
p1 = 2.^(3:6)'; % 核函数参数
kernel = struct('kernel', 'rbf', 'p1', p1);
%% non-linear case, p1=8 for UCI, p1=64 for Caltech
c = 2.^(0:0.05:2)';
mu = 2.^(0:0.05:2)';
kernel0 = struct('kernel', 'rbf', 'p1', 64);
%% linear case
c = 10.^(-2:0.05:1)';
mu = 10.^(-2:0.05:1)';
kernel0 = struct('kernel', 'linear');
%%
SParams = {
%     C
    struct('ID', 'IRMTL_C', 'Name', 'IRMTL', 'C', c, 'mu', mu, 'kernel', kernel0);...
    struct('ID', 'SSRC_IRMTL', 'Name', 'SSR_IRMTL', 'C', c, 'mu', mu, 'kernel', kernel0);...
%     MU
    struct('ID', 'IRMTL_M', 'Name', 'IRMTL', 'mu', mu, 'C', c, 'kernel', kernel0);...
    struct('ID', 'SSRM_IRMTL', 'Name', 'SSR_IRMTL', 'mu', mu, 'C', c, 'kernel', kernel0);...
};
% 保存参数表
[ SParams ] = PrintParams('./params/LabSParams-Linear.txt', SParams);
save('./params/LabSParams-Linear.mat', 'SParams');
IParams = CreateParams(SParams{2});